


# --- Disease datasets ---
tomato_mosaic_virus_qna = {
    "disease": "Tomato Mosaic Virus",
    "general_treatment": (
        "There is no chemical cure for Tomato Mosaic Virus. Remove and destroy infected plants immediately to prevent spread. "
        "Use certified virus-free seeds and resistant varieties. Sanitize tools, hands, and greenhouse surfaces regularly. "
        "Practice crop rotation and avoid planting tomatoes after other solanaceous crops to reduce virus persistence."
    ),
    "qna": [
        {"question": "What is Tomato Mosaic Virus?",
         "answer": "Tomato Mosaic Virus (ToMV) is a viral disease that affects tomato plants, causing light and dark green mosaic patterns on leaves. "
                   "It leads to leaf distortion, stunted growth, and reduced yield. The virus is highly stable and can survive on surfaces for long periods.",
         "treatment": "Remove infected plants immediately and destroy them. Use certified virus-free seeds and resistant varieties. Monitor crops regularly to detect early infections."},

        {"question": "What type of pathogen causes Tomato Mosaic Virus?",
         "answer": "ToMV is caused by a virus in the Tobamovirus genus. "
                   "It is highly stable outside the host and cannot be controlled with fungicides or bactericides. "
                   "It persists on surfaces, seeds, and tools for long durations.",
         "treatment": "Maintain strict hygiene, disinfect tools and gloves regularly. Plant resistant tomato varieties to reduce infection risk."},

        {"question": "Is Tomato Mosaic Virus seed-borne?",
         "answer": "Yes, the virus can be transmitted through infected seeds, making contaminated seeds a major source of primary infection. "
                   "Seed-borne transmission is a critical factor in spreading the disease.",
         "treatment": "Always use certified virus-free seeds. If possible, treat seeds with approved seed disinfectants. Regularly inspect seedlings for symptoms."},

        {"question": "Can ToMV spread through tools and hands?",
         "answer": "Yes, mechanical transmission is common through contaminated tools, gloves, or hands. "
                   "Handling infected plants without proper sanitation accelerates the spread of the virus.",
         "treatment": "Disinfect tools, pruning knives, and gloves with alcohol or bleach solutions. Wash hands frequently during plant handling."},

        {"question": "Does ToMV affect only tomatoes?",
         "answer": "No, ToMV can infect other solanaceous crops such as peppers, eggplants, and certain weeds. "
                   "These alternate hosts allow the virus to persist between tomato cropping cycles.",
         "treatment": "Monitor and remove alternate host plants and solanaceous weeds near tomato crops. Implement field hygiene practices."},

        {"question": "Does ToMV reduce tomato yield?",
         "answer": "Yes, the infection reduces photosynthetic leaf area, leading to stunted growth and lower energy for fruit development. "
                   "Fruit size, number, and quality are also negatively impacted.",
         "treatment": "Use resistant varieties, remove infected plants early, and maintain sanitation to prevent mechanical transmission."},

        {"question": "What are the characteristic leaf symptoms of ToMV?",
         "answer": "Leaves show light and dark green mosaic patterns, puckering, blistering, and curling. "
                   "Veins may become more pronounced, and young leaves are usually more severely affected.",
         "treatment": "Remove and destroy symptomatic leaves or plants. Maintain hygiene and avoid reusing contaminated materials."},

        {"question": "Can ToMV cause stem symptoms?",
         "answer": "Yes, stems may become slightly thickened or rigid, though symptoms are less obvious than leaf symptoms. "
                   "Stem effects rarely impact nutrient transport but indicate systemic infection.",
         "treatment": "Prune affected stems and avoid grafting infected plants. Use resistant varieties and maintain tool sanitation."},

        {"question": "Does ToMV affect fruits?",
         "answer": "Yes, fruits may be small, misshapen, or unevenly ripened. "
                   "Surface blemishes resembling mosaic patterns can appear, reducing marketable yield.",
         "treatment": "Remove infected plants early to reduce fruit infection. Focus on preventive measures like resistant varieties and hygiene."},

        {"question": "Can ToMV survive outside the host plant?",
         "answer": "Yes, the virus is highly stable and can persist on hands, tools, greenhouse surfaces, and contaminated debris for weeks. "
                   "It is resistant to many environmental conditions.",
         "treatment": "Disinfect tools, hands, and surfaces regularly. Avoid contact between infected and healthy plants."},

        {"question": "Can ToMV survive in soil?",
         "answer": "No, ToMV does not persist in soil for long without host tissue. "
                   "It primarily relies on infected seeds and mechanical transfer for survival.",
         "treatment": "Remove infected debris and weeds. Avoid planting tomatoes in the same area consecutively; practice crop rotation."},

        {"question": "Does high humidity favor ToMV?",
         "answer": "High humidity does not directly increase infection, but it facilitates leaf-to-leaf contact and mechanical spread. "
                   "Dense foliage in greenhouses can accelerate virus transmission.",
         "treatment": "Maintain good ventilation and plant spacing in greenhouses. Reduce foliage contact and practice careful handling."},

        {"question": "Can ToMV spread by wind or insects?",
         "answer": "No, ToMV is not transmitted by wind or insects. "
                   "Spread occurs almost exclusively through mechanical contact during handling.",
         "treatment": "Focus on hygiene, disinfection, and resistant varieties. Avoid unnecessary contact with plants."},

        {"question": "Are all tomato varieties equally susceptible?",
         "answer": "No, susceptibility varies. Some varieties carry resistance genes like Tm-1 or Tm-2, providing partial protection. "
                   "Variety selection strongly influences disease severity.",
         "treatment": "Choose resistant cultivars whenever possible. Combine with hygiene and crop rotation for better control."},

        {"question": "Does ToMV cause stunted growth?",
         "answer": "Yes, infected plants often show reduced height, weak stems, and smaller leaves. "
                   "Severe stunting can drastically reduce overall fruit yield.",
         "treatment": "Remove severely infected plants. Use resistant varieties and maintain proper plant nutrition and hygiene."},

        {"question": "Can ToMV cause leaf curling or distortion?",
         "answer": "Yes, young leaves are prone to curling, blistering, and irregular shapes. "
                   "Leaf distortion combined with mosaic patterns is diagnostic for ToMV.",
         "treatment": "Remove affected leaves and plants. Disinfect tools and avoid handling healthy plants after infected ones."},

        {"question": "Are younger leaves more affected by ToMV?",
         "answer": "Yes, actively growing young leaves show more pronounced mosaic and distortion, while older leaves may appear less affected.",
         "treatment": "Monitor seedlings carefully. Remove infected young plants to prevent spread."},

        {"question": "Can infected seedlings survive to produce fruits?",
         "answer": "Mildly infected seedlings may grow and produce small, distorted fruits. "
                   "Severely infected seedlings often fail to flower or produce viable fruit.",
         "treatment": "Remove severely infected seedlings promptly. Use healthy seedlings from virus-free seeds."},

        {"question": "Does ToMV cause uniform symptoms in all plants?",
         "answer": "No, symptom severity varies depending on variety, growth stage, and environmental conditions. "
                   "Some plants may remain asymptomatic yet still harbor the virus.",
         "treatment": "Monitor all plants, including those without symptoms. Remove infected and suspect plants to prevent spread."},

        {"question": "Can crop rotation help manage ToMV?",
         "answer": "Yes, rotating tomatoes with non-solanaceous crops reduces virus reservoirs in the field. "
                   "This breaks the cycle of mechanical transmission between crops.",
         "treatment": "Rotate with legumes, cereals, or leafy greens that are not hosts of ToMV. Combine with resistant varieties and sanitation."},

        {"question": "Does removing infected plants help?",
         "answer": "Yes, removing symptomatic plants reduces sources of virus for mechanical transmission. "
                   "It is especially important in greenhouses and high-density production systems.",
         "treatment": "Pull and destroy infected plants immediately. Do not compost symptomatic tissue unless fully decomposed."},

        {"question": "Can sanitation of tools reduce ToMV spread?",
         "answer": "Yes, disinfecting pruning tools, gloves, and surfaces prevents mechanical transmission. "
                   "Regular sanitation is essential to reduce accidental spread.",
         "treatment": "Use alcohol or bleach solutions for tool sterilization. Clean hands and gloves between handling plants."},

        {"question": "Is ToMV more severe in greenhouse conditions?",
         "answer": "Yes, greenhouses provide ideal conditions for mechanical spread due to close plant spacing and frequent handling. "
                   "Temperature and humidity indirectly affect virus spread.",
         "treatment": "Practice strict hygiene, maintain proper ventilation, and avoid unnecessary handling in greenhouses."},

        {"question": "Can weeds harbor ToMV?",
         "answer": "Yes, certain solanaceous weeds act as reservoirs for the virus. "
                   "Even without severe symptoms, these weeds allow the virus to persist between cropping cycles.",
         "treatment": "Remove solanaceous weeds surrounding the field. Monitor and destroy potential virus hosts regularly."},

        {"question": "Does ToMV affect photosynthesis?",
         "answer": "Yes, mosaic patterns and leaf distortion reduce functional leaf area. "
                   "Lower photosynthesis limits energy for fruit development and overall growth.",
         "treatment": "Prevent infection through resistant varieties, hygiene, and removal of infected plants to maintain healthy leaf area."},

        {"question": "Are chemical controls effective against ToMV?",
         "answer": "No, there are no antiviral chemicals to cure ToMV. "
                   "Chemical sprays do not affect the virus and only target secondary infections.",
         "treatment": "Rely on cultural practices, resistant varieties, sanitation, and removal of infected plants."},

        {"question": "Can ToMV survive in compost?",
         "answer": "Yes, the virus can persist if infected plant material is added without full decomposition. "
                   "Proper composting reduces risk significantly.",
         "treatment": "Do not add symptomatic tissue to compost. Ensure full decomposition before use on tomato crops."},

        {"question": "Does ToMV impact fruit quality?",
         "answer": "Yes, fruits may be small, misshapen, or ripen unevenly. "
                   "Cosmetic damage reduces marketable yield and overall crop value.",
         "treatment": "Prevent infection through hygiene, resistant varieties, and early removal of infected plants."},

        {"question": "Is ToMV considered a major tomato disease?",
         "answer": "Yes, it is economically significant worldwide, reducing yield, fruit quality, and overall plant vigor.",
         "treatment": "Preventive measures such as resistant varieties, crop rotation, and sanitation are essential."},

        {"question": "Can ToMV be transmitted during grafting?",
         "answer": "Yes, infected scions or rootstocks can spread the virus during grafting operations.",
         "treatment": "Use virus-free grafting material and maintain strict sanitation. Disinfect tools before and after grafting."},

        {"question": "Does ToMV persist on greenhouse surfaces?",
         "answer": "Yes, the virus is highly stable and can survive on benches, floors, and support structures for weeks.",
         "treatment": "Regularly disinfect greenhouse surfaces and avoid contact between infected and healthy plants."},

        {"question": "Does ToMV affect flower development?",
         "answer": "Yes, infection can reduce flower formation, leading to fewer fruits. Flowers may be distorted or abort prematurely.",
         "treatment": "Use resistant varieties, remove infected plants, and maintain optimal nutrition and hygiene."},

        {"question": "Can ToMV be spread during pruning?",
         "answer": "Yes, pruning with contaminated tools or hands can transmit the virus.",
         "treatment": "Disinfect tools between plants and wash hands regularly. Avoid pruning infected plants."},

        {"question": "Are asymptomatic plants dangerous?",
         "answer": "Yes, plants without visible symptoms can still harbor the virus and transmit it mechanically.",
         "treatment": "Monitor plants closely and consider removing suspect plants to prevent hidden virus spread."},

        {"question": "Does temperature affect ToMV severity?",
         "answer": "Temperature does not directly cause infection but can influence plant growth and handling frequency, indirectly affecting spread.",
         "treatment": "Maintain stable greenhouse temperatures and reduce mechanical stress on plants."},

        {"question": "Can ToMV affect seedlings in nurseries?",
         "answer": "Yes, seedlings in nurseries are highly susceptible, and infection can spread rapidly in dense trays.",
         "treatment": "Use disinfected trays, certified seeds, and separate infected seedlings immediately."},

        {"question": "Can ToMV spread through irrigation water?",
         "answer": "No, the virus is not waterborne. Transmission occurs primarily via mechanical contact.",
         "treatment": "Focus on hygiene and sanitation rather than water treatment for virus control."},

        {"question": "Does ToMV affect plant vigor?",
         "answer": "Yes, infected plants show reduced vigor, weaker stems, and smaller leaves, limiting overall growth and productivity.",
         "treatment": "Use resistant varieties, remove infected plants early, and maintain proper plant nutrition and care."},

        {"question": "Can resistant varieties completely prevent ToMV?",
         "answer": "No, resistant varieties reduce severity but may still allow mild infection.",
         "treatment": "Combine resistant varieties with strict hygiene, crop rotation, and removal of infected plants."},

        {"question": "Does ToMV impact multiple tomato crops in succession?",
         "answer": "Yes, if hygiene is poor and alternate hosts are present, the virus can persist and affect consecutive crops.",
         "treatment": "Practice crop rotation, remove alternate hosts, and maintain sanitation between cropping cycles."},

        {"question": "Can ToMV survive on hands for hours?",
         "answer": "Yes, the virus can remain viable on hands and gloves for extended periods, facilitating spread.",
         "treatment": "Wash hands frequently, disinfect gloves, and avoid touching healthy plants after infected ones."},

        {"question": "Does ToMV impact the commercial value of fruits?",
         "answer": "Yes, cosmetic blemishes, misshapen fruits, and reduced size lower marketable yield and profitability.",
         "treatment": "Prevent infection using resistant varieties, sanitation, and early removal of infected plants."},

        {"question": "Can ToMV infect pepper plants?",
         "answer": "Yes, certain pepper varieties can be infected, serving as alternate hosts.",
         "treatment": "Remove infected peppers near tomato fields and monitor for symptoms regularly."},

        {"question": "Can ToMV be transmitted during transplantation?",
         "answer": "Yes, handling seedlings during transplantation can spread the virus if sanitation is poor.",
         "treatment": "Wash hands, disinfect tools, and avoid contact between infected and healthy seedlings."},

        {"question": "Does ToMV persist in dried plant material?",
         "answer": "Yes, dried infected tissue can harbor the virus for weeks, posing a risk if reused.",
         "treatment": "Dispose of infected debris safely. Do not reuse contaminated materials for planting."},

        {"question": "Can mechanical harvesting spread ToMV?",
         "answer": "Yes, machinery and hands can transmit the virus if contaminated.",
         "treatment": "Clean and disinfect harvesting tools and machinery before use. Avoid handling infected plants during harvest."}
    ]
}


tomato_yellow_leaf_curl_qna = {
    "disease": "Tomato Yellow Leaf Curl Virus",
    "general_treatment": (
        "There is no chemical cure for TYLCV. Control relies on removing infected plants immediately, "
        "preventing whitefly infestation, planting resistant varieties, practicing crop rotation, and maintaining field hygiene. "
        "Early detection and integrated vector management are essential to minimize yield losses."
    ),
    "qna": [
        {"question": "What is Tomato Yellow Leaf Curl Virus?",
         "answer": "TYLCV is a viral disease affecting tomato plants, causing yellowing and curling of young leaves, stunted plant growth, and poor fruit development. "
                   "Infected plants may appear weak and unproductive, and the disease spreads rapidly in regions with high whitefly populations.",
         "treatment": "Remove and destroy infected plants immediately to prevent spread. Plant TYLCV-resistant tomato varieties and monitor crops regularly for early signs of infection. Control whitefly vectors using traps or approved insecticides."},

        {"question": "What type of pathogen causes TYLCV?",
         "answer": "TYLCV is caused by a geminivirus, a single-stranded DNA virus transmitted primarily by the whitefly (Bemisia tabaci). "
                   "The virus cannot survive long without a host and relies on the vector for rapid spread in the field.",
         "treatment": "Implement strict whitefly control through integrated pest management, including biological agents, insecticides, and reflective mulches. Avoid planting near infected fields to reduce vector-mediated transmission."},

        {"question": "Is TYLCV seed-borne?",
         "answer": "No, TYLCV is not transmitted through seeds. "
                   "The virus requires a host plant and whitefly vector for survival and cannot infect tomato plants from contaminated seeds alone.",
         "treatment": "Use certified virus-free seedlings and maintain insect-proof nurseries to prevent initial infection. Ensure strict hygiene when handling seedlings to avoid accidental spread."},

        {"question": "Can TYLCV affect other plants besides tomatoes?",
         "answer": "Yes, TYLCV can infect other solanaceous plants such as peppers, eggplants, and certain weeds. "
                   "These alternative hosts act as reservoirs for the virus and can support whitefly populations, allowing persistence between tomato crops.",
         "treatment": "Remove or manage alternate host plants and solanaceous weeds around tomato fields. Regularly monitor non-tomato plants for symptoms to minimize virus reservoirs."},

        {"question": "Is TYLCV widespread worldwide?",
         "answer": "Yes, TYLCV is prevalent in tropical and subtropical regions where tomatoes are cultivated. "
                   "High temperatures and abundant whitefly populations contribute to its rapid spread and severe outbreaks in commercial fields.",
         "treatment": "Monitor crops continuously, implement whitefly control strategies, and use resistant tomato varieties to reduce the impact in susceptible regions."},

        {"question": "Does TYLCV reduce tomato yield?",
         "answer": "Yes, infected plants produce fewer fruits that are often small, malformed, or unevenly ripened. "
                   "Overall crop productivity declines, especially when young plants are infected early in the growth stage.",
         "treatment": "Remove infected plants promptly to prevent spread. Use resistant varieties, control whitefly populations, and maintain optimal nutrition to support healthy growth of unaffected plants."},

        {"question": "Are young seedlings more susceptible to TYLCV?",
         "answer": "Yes, young seedlings are highly vulnerable to TYLCV and develop symptoms more quickly. "
                   "Early infection can severely stunt growth, reduce branching, and sometimes lead to plant death.",
         "treatment": "Protect seedlings in nurseries using insect-proof netting, sticky traps, and regular inspection. Apply vector control measures early to prevent infection in young plants."},

        {"question": "Can TYLCV survive outside the host plant?",
         "answer": "No, TYLCV cannot persist for long outside a host and requires a live plant and whitefly vector for survival and transmission. "
                   "Once removed from a plant, the virus quickly loses infectivity.",
         "treatment": "Remove infected plants immediately to eliminate sources of the virus. Control whiteflies to prevent them from carrying the virus to healthy plants."},

        {"question": "What are the characteristic leaf symptoms of TYLCV?",
         "answer": "Leaves of infected plants turn yellow along the veins, curl upwards, become thickened, and show reduced expansion. "
                   "Younger leaves are typically more severely affected than older ones, leading to overall stunted growth.",
         "treatment": "Remove symptomatic leaves or entire infected plants. Maintain field hygiene and control whitefly populations to prevent symptom development in healthy plants."},

        {"question": "Does TYLCV affect plant growth?",
         "answer": "Yes, infected plants exhibit stunted growth, reduced branching, and weaker stems. "
                   "Severe infection can halt flowering and fruit set, significantly lowering overall plant vigor.",
         "treatment": "Use healthy seedlings, implement effective whitefly management, and maintain proper plant nutrition to support the growth of unaffected plants."},

        {"question": "Can TYLCV affect fruit quality?",
         "answer": "Yes, fruits from infected plants are often small, misshapen, and unevenly ripened. "
                   "Cosmetic defects reduce marketable yield and lower the economic value of the harvest.",
         "treatment": "Prevent infection by planting resistant varieties and controlling whitefly populations. Remove infected plants early to protect healthy fruit development."},

        {"question": "How does TYLCV spread?",
         "answer": "TYLCV spreads primarily through the feeding activity of whiteflies. "
                   "Mechanical transmission is rare, and the virus cannot spread through seeds or soil.",
         "treatment": "Implement integrated pest management strategies, including biological controls, insecticides, reflective mulches, and removal of infected plants to reduce whitefly-mediated spread."},

        {"question": "Can weeds act as reservoirs for TYLCV?",
         "answer": "Yes, certain solanaceous weeds can harbor TYLCV and whiteflies, allowing the virus to persist between tomato crops. "
                   "Even asymptomatic weeds can maintain the virus in the field.",
         "treatment": "Remove or control weeds around fields and maintain clean planting areas. Monitor for symptoms regularly and destroy infected plants promptly."},

        {"question": "Does whitefly population density affect TYLCV severity?",
         "answer": "Yes, higher whitefly populations increase virus transmission rates and disease severity. "
                   "Dense crops facilitate vector movement and rapid spread between plants.",
         "treatment": "Monitor whitefly populations and apply control measures such as insecticides, biological agents, or reflective mulches. Maintain appropriate plant spacing to reduce vector movement."},

        {"question": "Can TYLCV be controlled with chemicals?",
         "answer": "No, there are no chemicals that cure TYLCV once a plant is infected. "
                   "Insecticides can reduce whitefly numbers and slow virus spread, but they do not eliminate the virus from plants.",
         "treatment": "Focus on prevention using resistant varieties, removing infected plants, and controlling whitefly populations through integrated pest management."},

        {"question": "Does TYLCV affect flower development?",
         "answer": "Yes, infection can reduce flower formation, cause flower distortion, and decrease fruit set. "
                   "Early infection has the most severe effect on reproductive development.",
         "treatment": "Remove infected plants to prevent vector-mediated spread. Protect healthy plants with whitefly control and resistant varieties to ensure normal flowering."},

        {"question": "Can TYLCV infect tomato plants at all growth stages?",
         "answer": "Yes, young seedlings are the most susceptible, but older plants can also become infected. "
                   "Symptoms are generally more severe when infection occurs early in the plant's life cycle.",
         "treatment": "Protect seedlings with insect-proof netting, control vectors throughout the growing season, and inspect older plants regularly for symptoms."},

        {"question": "Are all tomato varieties equally susceptible to TYLCV?",
         "answer": "No, susceptibility varies. Some varieties carry resistance genes that reduce symptom severity but may not completely prevent infection.",
         "treatment": "Grow resistant or tolerant varieties whenever possible. Combine this with vector management, sanitation, and crop rotation for effective control."},

        {"question": "Does TYLCV affect photosynthesis?",
         "answer": "Yes, leaf yellowing, curling, and thickening reduce functional leaf area, lowering photosynthetic efficiency and overall plant vigor.",
         "treatment": "Prevent infection through whitefly control and resistant varieties to maintain healthy foliage and support growth and fruit development."},

        {"question": "Can TYLCV persist in harvested plant debris?",
         "answer": "Yes, infected plant debris can harbor the virus and whiteflies for a limited period, posing a risk for subsequent crops.",
         "treatment": "Remove and safely dispose of infected plant material. Avoid using debris as compost unless it is fully decomposed and free of whiteflies."},
        
        {"question": "Can TYLCV spread during grafting?",
     "answer": "Yes, if infected scions or rootstocks are used, the virus can be transmitted to healthy plants. "
               "Grafting provides direct vascular contact, allowing the virus to move rapidly into new plants.",
     "treatment": "Use only virus-free grafting material and disinfect tools before and after grafting. Maintain hygiene during all grafting operations."},

    {"question": "Does environmental temperature affect TYLCV?",
     "answer": "High temperatures favor whitefly activity, increasing virus spread. "
               "Extreme temperatures may stress plants but do not directly affect the virus.",
     "treatment": "Maintain optimal growth conditions for tomatoes and implement strict whitefly management during hot seasons."},

    {"question": "Can TYLCV spread during transplantation?",
     "answer": "Yes, moving infected seedlings can transfer whiteflies carrying the virus, facilitating infection of healthy plants.",
     "treatment": "Use virus-free seedlings, insect-proof covers during transplantation, and avoid mixing infected and healthy plants."},

    {"question": "Does TYLCV affect the commercial value of tomatoes?",
     "answer": "Yes, infected fruits are smaller, misshapen, and ripen unevenly. "
               "This reduces marketability and causes economic losses for growers.",
     "treatment": "Use resistant varieties, remove infected plants early, and control whiteflies to protect healthy fruit."},

    {"question": "Can TYLCV survive in soil?",
     "answer": "No, TYLCV cannot persist in soil without a living host. "
               "The virus relies on infected plants and whiteflies for survival between crops.",
     "treatment": "Remove infected plants, control weeds, and rotate with non-host crops to reduce inoculum in the field."},

    {"question": "Can TYLCV infect crops in rotation?",
     "answer": "Yes, some solanaceous crops may act as alternate hosts, allowing the virus to survive between tomato cycles.",
     "treatment": "Rotate tomatoes with non-host crops such as legumes, cereals, or leafy greens to break the virus cycle."},

    {"question": "Does early detection help manage TYLCV?",
     "answer": "Yes, identifying infection early allows for rapid removal of affected plants and reduces virus spread through whiteflies.",
     "treatment": "Regularly inspect seedlings and mature plants. Remove any symptomatic plants immediately to protect healthy crops."},

    {"question": "Can reflective mulches help control TYLCV?",
     "answer": "Yes, reflective mulches deter whiteflies from landing on plants and reduce virus transmission rates.",
     "treatment": "Combine reflective mulches with sticky traps, biological control, and insecticide sprays to manage vectors effectively."},

    {"question": "Does TYLCV cause uniform symptoms in all infected plants?",
     "answer": "No, symptom expression varies depending on plant age, variety, and environmental conditions. "
               "Some plants may remain asymptomatic but still harbor the virus.",
     "treatment": "Monitor all plants regularly and remove any showing symptoms. Control whiteflies to prevent infection of healthy plants."},

    {"question": "Are asymptomatic plants dangerous for TYLCV spread?",
     "answer": "Yes, asymptomatic plants can harbor the virus and act as a source for whitefly-mediated transmission.",
     "treatment": "Include asymptomatic plants in monitoring programs and implement vector control measures throughout the field."},

    {"question": "Can biological control reduce TYLCV spread?",
     "answer": "Yes, predators and parasitoids that target whiteflies can lower vector populations and limit virus transmission.",
     "treatment": "Introduce natural enemies such as ladybugs, lacewings, and parasitic wasps. Minimize chemical use that harms beneficial insects."},

    {"question": "Can insect-proof nets prevent TYLCV?",
     "answer": "Yes, fine mesh nets protect seedlings from whiteflies, preventing early infection by the virus.",
     "treatment": "Use insect-proof nets in nurseries and greenhouses, especially for young seedlings. Maintain proper hygiene around netted areas."},

    {"question": "Does TYLCV affect fruit ripening?",
     "answer": "Yes, infected plants often produce fruits that ripen unevenly, are smaller, and less attractive for sale.",
     "treatment": "Prevent infection using resistant varieties, vector control, and timely removal of infected plants to protect healthy fruit development."},

    {"question": "Can TYLCV spread during harvesting?",
     "answer": "Yes, whiteflies may transfer the virus during harvest or crop handling if infected plants are nearby.",
     "treatment": "Disinfect tools and minimize plant disturbance during harvest. Remove infected plants before harvesting healthy fruit."},

    {"question": "Does high plant density increase TYLCV risk?",
     "answer": "Yes, closely spaced plants facilitate whitefly movement and increase virus transmission rates.",
     "treatment": "Maintain proper plant spacing, monitor vector populations, and use reflective mulches and sticky traps to limit spread."},

    {"question": "Can TYLCV affect transplant survival?",
     "answer": "Yes, seedlings infected before or during transplantation may die or grow poorly, reducing establishment success.",
     "treatment": "Use virus-free seedlings, insect-proof covers, and monitor for whiteflies during transplantation. Avoid mixing infected plants with healthy ones."},

    {"question": "Is TYLCV economically significant?",
     "answer": "Yes, it is one of the most damaging tomato viral diseases worldwide, causing severe yield and quality losses.",
     "treatment": "Implement an integrated approach using resistant varieties, vector control, sanitation, and crop rotation to minimize economic impact."},

    {"question": "Does TYLCV affect stem appearance?",
     "answer": "Yes, stems of infected plants may be thin, weak, and less vigorous. "
               "Severe infections can cause reduced branching and support for fruit development.",
     "treatment": "Maintain plant health with proper nutrition and prevent infection using resistant varieties and whitefly management."},

    {"question": "Can TYLCV spread through contaminated tools?",
     "answer": "No, the virus is not transmitted mechanically through tools; whiteflies are required for spread.",
     "treatment": "Focus on controlling whitefly vectors rather than disinfecting tools, although good hygiene is always recommended."},

    {"question": "Does TYLCV affect leaf size?",
     "answer": "Yes, infected leaves are smaller, thickened, and often deformed due to upward curling and yellowing.",
     "treatment": "Remove infected leaves or plants, and control whiteflies to maintain healthy foliage and normal leaf development."},

    {"question": "Can TYLCV re-infect a field in consecutive seasons?",
     "answer": "Yes, if infected plants, whiteflies, or alternate hosts remain, the virus can persist and infect new crops.",
     "treatment": "Practice crop rotation, remove all infected material, and control whitefly populations between seasons."},

    {"question": "Does TYLCV affect overall plant vigor?",
     "answer": "Yes, infected plants appear weak, stunted, and less productive. Nutrient uptake and photosynthesis are often reduced.",
     "treatment": "Maintain plant nutrition, remove infected plants promptly, and grow resistant varieties with proper vector control."},

    {"question": "Can TYLCV infection lead to total crop loss?",
     "answer": "Yes, severe early infection in seedlings or young plants can result in complete crop failure.",
     "treatment": "Protect seedlings in nurseries, remove infected plants immediately, and control whiteflies using integrated pest management."},

    {"question": "Can TYLCV be monitored using yellow sticky traps?",
     "answer": "Yes, yellow sticky traps effectively monitor whitefly populations, which are the main vectors of TYLCV.",
     "treatment": "Place sticky traps throughout the field and nursery to detect whitefly presence early, allowing timely vector control measures."},

    {"question": "Does TYLCV affect both leaf and fruit simultaneously?",
     "answer": "Yes, leaf curling and yellowing occur first, followed by fruit abnormalities such as small size and uneven ripening.",
     "treatment": "Remove infected plants promptly, control whiteflies, and grow resistant varieties to minimize simultaneous damage."},

    {"question": "Can TYLCV affect tomato flowering patterns?",
     "answer": "Yes, infected plants may produce fewer flowers, delayed flowering, or abnormal flower development.",
     "treatment": "Use virus-free seedlings, resistant varieties, and control whiteflies to ensure healthy flowering and fruit set."},

    {"question": "Does TYLCV severity vary with environmental conditions?",
     "answer": "Yes, high temperatures, dry conditions, and dense plantings increase whitefly activity and virus severity.",
     "treatment": "Adjust planting density, monitor environmental conditions, and apply integrated whitefly management strategies."},

    {"question": "Can TYLCV infect tomato plants in greenhouses?",
     "answer": "Yes, greenhouses can favor whitefly population buildup and increase TYLCV spread if proper hygiene is not maintained.",
     "treatment": "Use insect-proof nets, regularly monitor plants for symptoms, and maintain strict sanitation in greenhouse environments."},

    {"question": "Can TYLCV be managed biologically without chemicals?",
     "answer": "Yes, natural predators and parasitoids can suppress whitefly populations, indirectly controlling virus spread.",
     "treatment": "Encourage beneficial insects like ladybugs and parasitic wasps, and combine with cultural practices for effective TYLCV management."},

    {"question": "Does TYLCV infection affect tomato shelf life?",
     "answer": "Yes, fruits from infected plants are often smaller and deformed, reducing their post-harvest quality and shelf life.",
     "treatment": "Prevent infection using resistant varieties, remove infected plants early, and control whiteflies to ensure healthy fruit production."}
    ]
}


tomato_septoria_leaf_qna = {
    "disease": "Tomato Septoria Leaf Spot",
    "general_treatment": (
        "Remove and destroy infected leaves immediately to reduce inoculum. Avoid overhead irrigation "
        "as prolonged leaf wetness facilitates fungal infection. Rotate crops with non-solanaceous species "
        "to interrupt the pathogen’s life cycle. Apply fungicides such as chlorothalonil, mancozeb, or copper-based formulations "
        "at 7–10 day intervals according to label recommendations."
    ),
    "qna": [
        {"question": "What is tomato septoria leaf spot?",
         "answer": "Tomato septoria leaf spot is a fungal disease caused by Septoria lycopersici. "
                   "It primarily affects the leaves, producing circular necrotic lesions with gray centers and dark margins. "
                   "Severe infection can reduce photosynthesis and result in premature defoliation, ultimately affecting yield.",
         "treatment": "Remove infected leaves immediately, apply fungicides such as chlorothalonil or mancozeb, avoid overhead irrigation, and maintain field sanitation."},

        {"question": "Which part of the tomato plant is mainly affected by septoria?",
         "answer": "The disease mainly targets foliage, especially older leaves near the base. "
                   "Lower leaves show circular spots first, which can coalesce and reduce the functional leaf area, impairing plant growth.",
         "treatment": "Prune and destroy infected leaves, maintain proper plant spacing, and use preventive fungicide applications."},

        {"question": "Does septoria leaf spot infect tomato fruits?",
         "answer": "Direct fruit infection is uncommon. "
                   "However, significant leaf loss reduces photosynthate availability, indirectly affecting fruit size, development, and ripening.",
         "treatment": "Focus on protecting leaves through fungicide sprays and sanitation to indirectly safeguard fruit quality."},

        {"question": "Is tomato septoria leaf spot common?",
         "answer": "Yes, it is widespread globally, especially in warm, humid, and rainy climates. "
                   "Both open-field and greenhouse tomatoes are susceptible, and frequent outbreaks occur during monsoon seasons.",
         "treatment": "Implement integrated management including crop rotation, sanitation, and preventive fungicide applications."},

        {"question": "What type of pathogen causes septoria leaf spot?",
         "answer": "Septoria lycopersici, a fungus from the Ascomycota phylum, is the causative organism. "
                   "It produces asexual spores called conidia in pycnidia that survive in plant debris and can initiate infection in new crops.",
         "treatment": "Remove plant debris, apply preventive fungicides, and rotate crops with non-host species."},

        {"question": "Which leaves are affected first by septoria?",
         "answer": "Lower, older leaves near the soil are typically infected first due to splash dispersal from soil and debris. "
                   "Symptoms appear on older leaves before progressing upward through the canopy.",
         "treatment": "Remove lower infected leaves, avoid overhead irrigation, and apply fungicides early to control spread."},

        {"question": "Does septoria cause leaf yellowing?",
         "answer": "Yes, chlorosis develops around necrotic lesions, indicating early infection. "
                   "Yellowing reduces photosynthetic efficiency and weakens overall plant health.",
         "treatment": "Remove symptomatic leaves, use fungicides, and ensure good airflow to prevent further spread."},

        {"question": "Can septoria lead to premature leaf drop?",
         "answer": "Yes, severe infection causes early defoliation. "
                   "Loss of leaves reduces photosynthetic area, lowering energy availability for fruit growth and yield.",
         "treatment": "Remove infected leaves promptly, maintain sanitation, and apply preventive fungicide sprays."},

        {"question": "Are pycnidia visible to the naked eye?",
         "answer": "Yes, pycnidia appear as tiny black specks within leaf lesions. "
                   "These structures produce conidia that spread the infection to healthy leaves and plants.",
         "treatment": "Sanitize tools, remove infected leaves, and apply fungicides to reduce inoculum."},

        {"question": "Does septoria fungus survive in soil or plant debris?",
         "answer": "Yes, it can survive in infected plant debris and soil for months between cropping cycles. "
                   "This serves as a reservoir for future infections.",
         "treatment": "Remove or bury debris deeply, practice crop rotation, and apply soil-safe fungicides as needed."},

        {"question": "Does high humidity favor septoria development?",
         "answer": "Yes, prolonged leaf wetness and high relative humidity accelerate fungal spore germination and infection. "
                   "Densely planted crops exacerbate humidity conditions.",
         "treatment": "Ensure proper plant spacing, ventilation, and avoid overhead irrigation to reduce humidity and leaf wetness."},

        {"question": "Can septoria infect greenhouse tomatoes?",
         "answer": "Yes, greenhouses with poor airflow and high humidity are particularly at risk. "
                   "Dense planting and wet conditions accelerate disease spread.",
         "treatment": "Improve greenhouse ventilation, monitor plants regularly, and apply protective fungicides when necessary."},

        {"question": "Does septoria affect photosynthesis?",
         "answer": "Yes, necrotic lesions reduce functional leaf area, limiting chlorophyll content and photosynthetic output. "
                   "Reduced photosynthesis decreases energy available for fruit development and overall plant vigor.",
         "treatment": "Remove infected leaves, maintain proper nutrition and irrigation, and use fungicides preventively."},

        {"question": "Does crop rotation help reduce septoria leaf spot?",
         "answer": "Yes, rotating with non-host crops interrupts the pathogen's life cycle. "
                   "Avoid planting tomatoes or related solanaceous crops consecutively in the same field.",
         "treatment": "Include cereals, legumes, or other non-host crops in rotation to reduce soil-borne inoculum."},

        {"question": "Can septoria spread via contaminated tools?",
         "answer": "Yes, pruning or staking tools can transfer spores mechanically from infected to healthy plants. "
                   "This is a common pathway for secondary spread.",
         "treatment": "Disinfect tools regularly with bleach or alcohol solutions and avoid working with wet or infected plants."},

        {"question": "Does septoria only affect tomatoes?",
         "answer": "Primarily it infects tomatoes, but related solanaceous plants and weeds can act as alternate hosts. "
                   "These hosts maintain inoculum between crop cycles.",
         "treatment": "Remove solanaceous weeds and alternate hosts around tomato fields, and maintain good sanitation."},

        {"question": "Are young leaves resistant to infection?",
         "answer": "Young leaves have slightly thicker cuticles and may resist early infection, but under high humidity and heavy inoculum, they can become infected. "
                   "Protection of new growth is crucial.",
         "treatment": "Apply preventive fungicides and maintain greenhouse or field microclimate to protect young leaves."},

        {"question": "How long is the incubation period of septoria?",
         "answer": "Symptoms typically appear 7–14 days after infection under favorable conditions of warmth and humidity. "
                   "Shorter incubation occurs with prolonged leaf wetness.",
         "treatment": "Monitor plants closely during high-risk periods and apply fungicides early to prevent disease spread."},

        {"question": "Can secondary infections occur on damaged leaves?",
         "answer": "Yes, necrotic tissue can be colonized by opportunistic fungi or bacteria, worsening leaf decay. "
                   "This accelerates defoliation and affects overall yield.",
         "treatment": "Remove infected leaves promptly, maintain sanitation, and apply fungicides to prevent further infection."},

        {"question": "How do lesions progress over time?",
         "answer": "Small lesions on lower leaves enlarge, develop gray centers and dark margins, and may coalesce. "
                   "Progressive lesions reduce photosynthetic area and can lead to premature leaf drop.",
         "treatment": "Monitor crops regularly, remove affected leaves, and apply fungicides at the first sign of infection."},

        {"question": "Do lesions appear on both sides of the leaf?",
         "answer": "Yes, lesions are visible on upper and lower surfaces. "
                   "Pycnidia are more prominent on the underside, contributing to secondary spore spread.",
         "treatment": "Apply fungicides ensuring thorough coverage on both leaf surfaces and remove heavily infected leaves."},

        {"question": "Can septoria lesions merge?",
         "answer": "Yes, multiple lesions can coalesce to form large necrotic patches. "
                   "This significantly reduces functional leaf area and photosynthesis.",
         "treatment": "Remove leaves with merged lesions immediately and maintain preventive fungicide schedules."},

        {"question": "Do lesions cause leaf curling?",
         "answer": "Yes, heavily infected leaves may curl or distort due to necrotic tissue and dehydration stress. "
                   "Leaf curling is a sign of advanced disease.",
         "treatment": "Remove affected leaves, improve airflow, and apply preventive fungicides."},

        {"question": "Does septoria affect fruit indirectly?",
         "answer": "Yes, severe defoliation reduces carbohydrate supply, leading to smaller, unevenly ripened fruits. "
                   "Fruit quality declines without direct fungal infection.",
         "treatment": "Protect foliage through fungicides, sanitation, and proper irrigation to maintain fruit quality."},

        {"question": "Are symptoms more severe in humid conditions?",
         "answer": "Yes, high humidity prolongs leaf wetness, enhancing spore germination and lesion development. "
                   "Disease spreads rapidly under these conditions.",
         "treatment": "Reduce humidity through spacing, ventilation, and drip irrigation to minimize leaf wetness."},

        {"question": "Do spores spread via rain splash?",
         "answer": "Yes, water droplets from rain or irrigation splash spores from infected leaves to healthy ones. "
                   "This is the main natural dissemination method.",
         "treatment": "Avoid overhead irrigation, use mulch to reduce splash, and remove lower infected leaves."},

        {"question": "Can septoria survive between seasons?",
         "answer": "Yes, the fungus persists in crop debris and soil, serving as a source of infection for the next planting. "
                   "Survival is favored by retained plant residues.",
         "treatment": "Remove or deeply incorporate debris, practice crop rotation, and apply preventive fungicides."},

        {"question": "Does temperature affect disease severity?",
         "answer": "Yes, warm temperatures (20–28°C) favor fungal growth and rapid lesion development. "
                   "Cooler conditions slow disease progression.",
         "treatment": "Monitor fields during warm periods and use preventive fungicide sprays."},

        {"question": "Is leaf wetness critical for infection?",
         "answer": "Yes, prolonged moisture on leaves is essential for conidia germination and infection. "
                   "Even dew can initiate disease under favorable temperatures.",
         "treatment": "Use drip irrigation, avoid overhead watering, and ensure good plant spacing for airflow."},

        {"question": "Can infected seedlings spread septoria?",
         "answer": "Yes, transplanting infected seedlings introduces the pathogen into new fields. "
                   "Early infection can lead to widespread outbreaks.",
         "treatment": "Inspect seedlings before transplanting and discard any with lesions."},

        {"question": "Do lesions affect leaf lifespan?",
         "answer": "Yes, infected leaves die prematurely, reducing their functional lifespan. "
                   "This lowers photosynthetic capacity and weakens plants.",
         "treatment": "Remove diseased leaves, maintain plant nutrition, and use preventive fungicides."},

        {"question": "Does septoria occur more in rainy seasons?",
         "answer": "Yes, rainy and wet conditions increase leaf wetness, favoring infection and rapid spread. "
                   "Heavy rainfall accelerates outbreaks.",
         "treatment": "Practice good sanitation, maintain spacing for airflow, and apply fungicides preventively."},

        {"question": "Can septoria infect tomato stems?",
         "answer": "Stem infection is rare, but lesions can occur near leaf nodes in severe cases. "
                   "Foliage infection is the primary concern.",
         "treatment": "Focus on leaf protection, remove infected leaves, and monitor plants for early symptoms."},

        {"question": "Are there resistant tomato varieties?",
         "answer": "Some varieties show partial resistance, but no fully resistant cultivar exists. "
                   "Resistance reduces lesion severity and spread.",
         "treatment": "Use resistant or tolerant varieties in combination with cultural and chemical control."},

        {"question": "Can septoria cause total defoliation?",
         "answer": "Yes, under severe infection and high humidity, entire lower and mid-canopy leaves can drop. "
                   "This drastically reduces yield potential.",
         "treatment": "Regularly monitor crops, remove infected leaves, and apply fungicides preventively."},

        {"question": "Do lesions produce spores continuously?",
         "answer": "Yes, pycnidia in lesions release conidia over time, especially under wet conditions. "
                   "This perpetuates secondary infection cycles.",
         "treatment": "Remove infected leaves promptly and apply fungicides to reduce inoculum."},

        {"question": "Is sanitation important for control?",
         "answer": "Yes, cleaning fields, removing debris, and disinfecting tools are crucial. "
                   "Sanitation reduces the pathogen reservoir and lowers disease pressure.",
         "treatment": "Practice crop rotation, remove debris, disinfect tools, and avoid working with wet plants."},

        {"question": "Do cultural practices affect disease severity?",
         "answer": "Yes, dense planting, poor ventilation, and overhead irrigation increase risk. "
                   "Proper cultural practices can significantly reduce infection rates.",
         "treatment": "Maintain plant spacing, improve airflow, use drip irrigation, and remove infected foliage."},

        {"question": "Can fungicide resistance develop?",
         "answer": "Yes, repeated use of the same fungicide class may lead to resistance. "
                   "This reduces control efficiency over time.",
         "treatment": "Rotate fungicides with different modes of action and follow label instructions carefully."},

        {"question": "Do weeds act as reservoirs?",
         "answer": "Yes, solanaceous weeds and volunteer plants can harbor the fungus. "
                   "They contribute to inoculum buildup between seasons.",
         "treatment": "Remove weeds, control alternate hosts, and maintain field sanitation."},

        {"question": "How frequently should fungicides be applied?",
         "answer": "Fungicides are typically applied every 7–10 days during favorable conditions. "
                   "Application frequency may vary with weather and disease pressure.",
         "treatment": "Follow label recommendations and adjust sprays according to disease monitoring."},

        {"question": "Can septoria affect other crops in rotation?",
         "answer": "No, non-solanaceous crops like cereals and legumes are safe and help reduce inoculum. "
                   "Rotation breaks the pathogen's life cycle.",
         "treatment": "Plan crop rotation to avoid consecutive tomato or solanaceous plantings."},

        {"question": "Is early detection important?",
         "answer": "Yes, detecting lesions early allows prompt removal and treatment. "
                   "This prevents disease escalation and yield loss.",
         "treatment": "Inspect plants regularly, remove symptomatic leaves, and apply fungicides early."},

        {"question": "Do environmental conditions influence outbreaks?",
         "answer": "Yes, warm, humid, and wet conditions favor outbreaks, while dry conditions limit disease. "
                   "Weather monitoring helps anticipate risk periods.",
         "treatment": "Use preventive fungicides during high-risk periods and adjust cultural practices accordingly."}
    ]
}



tomato_target_spot_qna = {
    "disease": "Tomato Target Spot",
    "general_treatment": (
        "Remove and destroy infected leaves, stems, and fruits to reduce inoculum. Avoid overhead irrigation "
        "and increase plant spacing to reduce leaf wetness and humidity. Apply fungicides such as chlorothalonil, mancozeb, or copper-based sprays "
        "at 7–10 day intervals during high-risk periods. Practice crop rotation with non-host plants and maintain field sanitation to prevent recurrent infections."
    ),
    "qna": [
        {"question": "What is tomato target spot?",
         "answer": "Tomato target spot is a fungal disease caused by Corynespora cassiicola. It affects leaves, stems, and fruits, forming dark lesions with concentric rings on leaves and sunken spots on fruits, which reduce photosynthesis and overall plant health.",
         "treatment": "Remove infected leaves and fruits, apply fungicides preventively, and manage humidity with proper spacing and ventilation."},

        {"question": "What pathogen causes target spot in tomatoes?",
         "answer": "The causative agent is Corynespora cassiicola, an ascomycete fungus. It produces spores on infected plant tissue, which spread via water splash, wind, or contaminated tools, causing rapid disease spread under warm, humid conditions.",
         "treatment": "Use preventive fungicides, maintain sanitation, remove nearby alternate hosts, and avoid overhead irrigation."},

        {"question": "Why is it called target spot?",
         "answer": "Lesions on leaves have concentric rings, resembling a target. The pattern includes a dark outer margin and a lighter center, making the disease easily recognizable in the field.",
         "treatment": "Early removal of infected leaves, proper sanitation, and timely fungicide sprays prevent further spread."},

        {"question": "Which parts of tomato plants are affected?",
         "answer": "Leaves, stems, and fruits can all be infected. Leaves show circular lesions, stems may develop elongated streaks, and fruits often have sunken, dark, round spots that reduce marketability.",
         "treatment": "Remove infected plant parts, apply protective fungicides, and reduce leaf wetness during irrigation."},

        {"question": "Is target spot common in tomato crops?",
         "answer": "Yes, especially in warm, humid climates. The disease can spread rapidly, causing significant yield losses in both field-grown and greenhouse tomatoes if not managed properly.",
         "treatment": "Implement integrated management practices including crop rotation, proper spacing, sanitation, and preventive fungicide applications."},

        {"question": "Does target spot reduce tomato yield?",
         "answer": "Yes, by decreasing functional leaf area, the plant’s photosynthetic ability is compromised, leading to reduced growth, smaller fruits, and lower overall yield.",
         "treatment": "Maintain healthy foliage, remove infected leaves promptly, and apply preventive fungicides during periods of high risk."},

        {"question": "Does target spot affect tomato fruit directly?",
         "answer": "Yes, sunken lesions form on the fruit, affecting appearance, texture, and storage life. Although leaf infection indirectly reduces fruit growth, direct fruit infection impacts marketability immediately.",
         "treatment": "Remove infected fruits, protect leaves from infection using fungicides, and avoid overhead irrigation to reduce water splash."},

        {"question": "Is target spot seed-borne?",
         "answer": "No, the primary mode of spread is soil- and air-borne spores. The fungus survives in crop debris and spreads via rain splash, wind, or mechanical contact, not through seeds.",
         "treatment": "Focus on field sanitation, crop rotation, and preventive foliar sprays rather than seed treatment."},

        {"question": "Does target spot spread through water splash?",
         "answer": "Yes, rain or overhead irrigation splashes spores from infected tissues onto healthy leaves, facilitating rapid disease spread within the canopy.",
         "treatment": "Use drip irrigation, avoid wetting foliage, and apply preventive fungicide sprays during wet periods."},

        {"question": "Is high humidity favorable for target spot?",
         "answer": "Yes, warm and humid conditions accelerate fungal growth and lesion development. Extended leaf wetness encourages spore germination and infection.",
         "treatment": "Ensure adequate plant spacing and ventilation, and apply protective fungicides during high humidity periods."},

        {"question": "Does target spot occur in greenhouses?",
         "answer": "Yes, greenhouse tomatoes are highly susceptible when ventilation is poor and humidity is high. Dense plantings can create a microclimate ideal for disease development.",
         "treatment": "Improve airflow, monitor humidity, remove infected plant parts, and spray fungicides preventively."},

        {"question": "Can target spot affect other crops besides tomato?",
         "answer": "Yes, Corynespora cassiicola can infect soybean, cucumber, cotton, and papaya, acting as alternate hosts and contributing to inoculum pressure in nearby tomato fields.",
         "treatment": "Remove alternate hosts, monitor surrounding crops, and apply preventive sprays during high-risk periods."},

        {"question": "Does dense planting favor target spot?",
         "answer": "Yes, closely spaced plants reduce airflow and increase humidity, creating favorable conditions for infection and lesion expansion.",
         "treatment": "Maintain adequate spacing, prune overcrowded foliage, and manage canopy humidity to reduce disease severity."},

        {"question": "Is target spot related to early blight?",
         "answer": "No, although both produce circular leaf lesions, early blight is caused by Alternaria solani. Target spot lesions have distinct concentric rings and may appear on stems and fruits as well.",
         "treatment": "Accurate disease identification is crucial; use pathogen-specific fungicides for effective control."},

        {"question": "Can target spot cause premature leaf drop?",
         "answer": "Yes, severe infections accelerate defoliation, reducing photosynthetic tissue and weakening the plant, which indirectly affects fruit development and size.",
         "treatment": "Remove infected leaves promptly, maintain healthy canopy through fertilization and irrigation, and apply fungicides during high-risk periods."},

        {"question": "Does sunlight reduce target spot infection?",
         "answer": "Yes, direct sunlight lowers leaf wetness and humidity, slowing fungal growth and sporulation. Shaded dense areas are more prone to severe infections.",
         "treatment": "Prune plants to increase light penetration and airflow, and maintain proper plant spacing to reduce shaded areas."},

        {"question": "Are older leaves more susceptible?",
         "answer": "Yes, lower and older leaves remain wet longer and are more exposed to soil splash, making them the first to show symptoms.",
         "treatment": "Remove lower leaves regularly, maintain sanitation, and apply preventive fungicides to protect upper foliage."},

        {"question": "Do lesions coalesce on leaves?",
         "answer": "Yes, multiple lesions can merge into large necrotic patches, greatly reducing functional leaf area and accelerating leaf drop.",
         "treatment": "Promptly remove infected leaves, maintain proper spacing, and apply fungicides preventively."},

        {"question": "Does target spot affect photosynthesis?",
         "answer": "Yes, necrotic lesions destroy chlorophyll-containing tissue, reducing carbohydrate production, energy availability, and fruit growth.",
         "treatment": "Protect healthy leaves with fungicides, remove diseased tissue promptly, and maintain canopy health with proper nutrition."},

        {"question": "Do stems show symptoms of target spot?",
         "answer": "Yes, stems may develop dark elongated streaks. Severe stem infections can reduce nutrient transport, but foliar infection usually has the greatest impact.",
         "treatment": "Remove infected stems when possible, prune to increase airflow, and apply systemic fungicides to prevent spread."},

        {"question": "How quickly do lesions appear after infection?",
         "answer": "Symptoms generally appear 5–10 days after infection under warm, humid conditions. Rapid lesion formation can lead to quick canopy spread.",
         "treatment": "Monitor crops regularly, detect early lesions, and apply fungicides promptly for effective control."},

        {"question": "Can target spot affect young leaves?",
         "answer": "Young leaves are less susceptible initially due to a thicker cuticle, but heavy inoculum pressure or high humidity can lead to infection.",
         "treatment": "Protect young leaves with preventive fungicides, maintain proper microclimate, and monitor canopy humidity."},

        {"question": "Are fruit lesions visible externally?",
         "answer": "Yes, fruits develop sunken, dark, circular lesions that affect aesthetics, texture, and marketability, sometimes penetrating deeply into fruit tissue.",
         "treatment": "Remove infected fruits, control foliar infection, and apply protective fungicides to minimize fruit involvement."},

        {"question": "Does target spot survive in crop residues?",
         "answer": "Yes, the fungus can persist in infected plant debris, providing inoculum for the next crop season.",
         "treatment": "Remove or deeply bury residues, rotate with non-host crops, and apply soil-safe fungicides if needed."},

        {"question": "Can mechanical tools spread target spot?",
         "answer": "Yes, pruning shears or hands can transfer spores from infected to healthy plants, promoting disease spread.",
         "treatment": "Disinfect tools regularly with bleach or alcohol and avoid handling wet, infected plants."},

        {"question": "Is target spot seasonal?",
         "answer": "Yes, disease incidence peaks during warm, humid, and rainy periods. Dry or cool conditions reduce fungal growth and infection rates.",
         "treatment": "Monitor fields during high-risk seasons, maintain canopy health, and apply fungicides preventively."},

        {"question": "Can target spot lead to secondary infections?",
         "answer": "Yes, necrotic tissue may be colonized by opportunistic fungi or bacteria, worsening leaf decay and defoliation.",
         "treatment": "Remove infected tissues promptly and maintain proper sanitation to minimize secondary infection risk."},

        {"question": "Does the fungus produce visible spores?",
         "answer": "Yes, tiny conidia form on lesions and appear as powdery or black structures. These spores are the primary means of spreading the disease.",
         "treatment": "Reduce humidity, remove infected tissues, and use fungicides that target spore germination."},

        {"question": "How can crop rotation reduce target spot?",
         "answer": "Rotating with non-host crops interrupts the fungal life cycle, reducing inoculum in the soil and minimizing disease pressure on subsequent tomato crops.",
         "treatment": "Avoid consecutive tomato or related solanaceous crops; include cereals or legumes in rotation cycles."},

        {"question": "Does high nitrogen fertilization favor target spot?",
         "answer": "Excessive nitrogen promotes dense foliage, increasing humidity and leaf wetness, which favors fungal growth and lesion development.",
         "treatment": "Use balanced fertilization, avoid excessive nitrogen, and maintain open canopy structure to reduce disease risk."},

        {"question": "Can target spot survive in the soil?",
         "answer": "Yes, spores can persist in moist soil, especially if infected plant debris is present. Soil survival contributes to recurring infections.",
         "treatment": "Remove debris, rotate crops with non-host species, and apply soil-safe fungicides if necessary."},

        {"question": "Does pruning help control target spot?",
         "answer": "Yes, pruning removes infected leaves, improves airflow, and reduces canopy humidity, limiting fungal growth and spread.",
         "treatment": "Prune lower and diseased leaves regularly, space plants adequately, and apply fungicides post-pruning."},

        {"question": "Are there resistant tomato varieties?",
         "answer": "Some varieties show partial tolerance, but complete resistance is rare. Using tolerant varieties can reduce disease severity and yield loss.",
         "treatment": "Combine resistant varieties with good sanitation, proper spacing, and preventive fungicides for optimal management."},

        {"question": "Does poor drainage increase target spot?",
         "answer": "Yes, waterlogged soils increase leaf wetness, favoring fungal infection and spore dispersal.",
         "treatment": "Ensure proper field drainage, avoid over-irrigation, and monitor canopy moisture levels."},

        {"question": "Can target spot infect greenhouse tomatoes differently?",
         "answer": "Yes, in greenhouses, high humidity and poor ventilation create ideal conditions for rapid spread, often more severe than field-grown crops.",
         "treatment": "Maintain good ventilation, monitor humidity, remove infected plant parts, and apply fungicides preventively."},

        {"question": "Do lesions vary with plant age?",
         "answer": "Yes, older leaves are generally infected first due to proximity to soil and splash dispersal, whereas young leaves may be infected later under favorable conditions.",
         "treatment": "Protect older leaves early with fungicides and maintain sanitation to prevent upward spread."},

        {"question": "Does target spot reduce fruit quality?",
         "answer": "Yes, infected fruits develop sunken spots, uneven ripening, and reduced shelf life, impacting marketability and profitability.",
         "treatment": "Remove infected fruits, protect foliage from infection, and apply foliar fungicides."},

        {"question": "Can target spot be confused with other diseases?",
         "answer": "Yes, early blight or bacterial spot may resemble target spot, but concentric rings on leaves and sunken fruit lesions help differentiate it.",
         "treatment": "Use accurate diagnosis and apply pathogen-specific fungicides for effective management."},

        {"question": "Is sanitation important in target spot management?",
         "answer": "Yes, removing infected debris, pruning diseased leaves, and disinfecting tools greatly reduce inoculum and disease spread.",
         "treatment": "Combine sanitation with fungicide sprays and crop rotation for integrated management."},

        {"question": "Does temperature affect target spot?",
         "answer": "Yes, warm temperatures between 25–30°C accelerate fungal growth and lesion development, while cooler temperatures slow disease progression.",
         "treatment": "Monitor weather conditions, apply fungicides before high-risk periods, and ensure good airflow to reduce temperature stress."},

        {"question": "Can target spot spores survive on weeds?",
         "answer": "Yes, related solanaceous weeds may harbor the fungus, serving as a source of infection for tomato crops.",
         "treatment": "Remove alternate hosts and weeds, and monitor nearby fields for potential inoculum."},

        {"question": "Does leaf wetness duration affect infection?",
         "answer": "Yes, prolonged wetness is critical for spore germination. Even a few hours of moisture on leaves can facilitate infection under warm conditions.",
         "treatment": "Avoid overhead irrigation, increase spacing for airflow, and apply fungicides preventively during wet periods."},

        {"question": "Can fungicides completely eliminate target spot?",
         "answer": "Fungicides reduce severity and prevent spread but cannot eliminate the pathogen from soil or debris entirely.",
         "treatment": "Use fungicides as part of an integrated approach including sanitation, pruning, and crop rotation."},

        {"question": "Is monitoring important in target spot management?",
         "answer": "Yes, early detection of lesions allows timely removal and fungicide application, reducing overall disease impact.",
         "treatment": "Inspect crops regularly, identify early symptoms, and spray fungicides preventively during high-risk periods."},

        {"question": "Does target spot cause wilting?",
         "answer": "Wilting is not a primary symptom, but severe defoliation can stress plants and indirectly lead to reduced turgor and minor wilting.",
         "treatment": "Maintain leaf health, remove infected leaves promptly, and ensure adequate irrigation and fungicide protection."}
    ]
}




# Ensure these are already defined:
# tomato_mosaic_virus_qna
# tomato_yellow_leaf_curl_qna
# tomato_septoria_leaf_qna
# tomato_target_spot_qna

# --- Disease datasets ---
# Make sure all four datasets are defined here before running the bot
# Example:
# tomato_mosaic_virus_qna = { ... }
# tomato_yellow_leaf_curl_qna = { ... }
# tomato_septoria_leaf_qna = { ... }
# tomato_target_spot_qna = { ... }

# --- Combine datasets with symptom keywords ---
diseases = {
    "tomato mosaic virus": {
        "data": tomato_mosaic_virus_qna,
        "keywords": ["mosaic", "yellow", "leaf", "streak", "distortion", "tmv","Tomato_Tomato_mosaic_virus"]
    },
    "tomato yellow leaf curl virus": {
        "data": tomato_yellow_leaf_curl_qna,
        "keywords": ["curl", "yellow", "leaf", "stunting", "tylcv", "distortion","Tomato_Tomato_Yellow_Leaf_Curl_Virus"]
    },
    "Ttomato septoria leaf spot": {
        "data": tomato_septoria_leaf_qna,
        "keywords": ["septoria", "leaf", "spot", "brown", "necrotic", "lesions","Tomato_Septoria_leaf_spot"]
    },
    "tomato target spot": {
        "data": tomato_target_spot_qna,
        "keywords": ["target", "spot", "lesion", "concentric", "fruit", "stems","Tomato_Target_Spot"]
    },
}

# --- Detect disease from user input ---
def detect_disease(user_input):
    user_words = set(user_input.lower().replace(",", "").split())
    scores = {}
    for name, info in diseases.items():
        match_count = len(user_words & set(info["keywords"]))
        scores[name] = match_count
    detected = max(scores, key=scores.get)
    if scores[detected] == 0:
        return None
    return diseases[detected]["data"]

# --- Find answer in a disease dataset ---
def find_answer(user_input, dataset):
    user_words = set(user_input.lower().replace("?", "").split())
    best_match = None
    max_overlap = 0
    for qa in dataset["qna"]:
        answer_words = set(qa["answer"].lower().split())
        overlap = len(user_words & answer_words)
        if overlap > max_overlap:
            max_overlap = overlap
            best_match = qa
    if best_match and max_overlap > 0:
        return f"🩺 {best_match['answer']}\n💡 Treatment: {best_match['treatment']}"
    return f"❗Sorry, I couldn't find an exact answer for that.\n👉 General treatment: {dataset['general_treatment']}"

# --- Chatbot logic ---
def chatbot():
    print("🌱 Tomato Disease Expert Bot 🌱")
    print("Describe your tomato symptoms, and I'll try to identify the disease!")
    print("Type 'bye' to exit.\n")

    while True:
        user_input = input("You: ").strip().lower()

        if user_input in ["bye", "exit", "quit"]:
            print("Bot: 🌾 Goodbye! Take care of your crops! 👋")
            break

        # Detect disease every input
        selected_disease = detect_disease(user_input)
        if selected_disease:
            print(f"Bot: 🌿 Based on your description, it looks like {selected_disease['disease']}.")
            answer = find_answer(user_input, selected_disease)
            print(f"Bot: {answer}")
        else:
            print("Bot: 🤔 I couldn't identify the disease from your description.")
            print("Please describe more symptoms, like leaf color, spots, curling, or fruit lesions.")

# ----------------------------
# NEW: function for API use
# ----------------------------
def get_chatbot_text(detected_disease_name: str) -> str:
    """
    Input: predicted disease name from CNN (string)
    Output: chatbot text response (string)
    """
    # Map CNN class names to your disease keys
    disease_key_map = {
        "Tomato_Tomato_mosaic_virus": "tomato mosaic virus",
        "Tomato_Yellow_Leaf_Curl_Virus": "tomato yellow leaf curl virus",
        "Tomato_Septoria_leaf_spot": "tomato septoria leaf spot",
        "Tomato_Target_Spot": "tomato target spot",
        # Add remaining CNN class names if any
    }

    key = disease_key_map.get(detected_disease_name)
    if not key:
        return "🤔 Sorry, this disease is not recognized by the chatbot."

    dataset = diseases.get(key)
    if not dataset:
        return "🤔 Dataset for this disease not found."

    # You can pick first answer or general treatment
    general_ans = dataset.get("general_treatment", "No guidance available.")
    return f"🌿 Based on image detection: {detected_disease_name}\n💡 Guidance: {general_ans}"



def get_chatbot_response(user_input: str) -> str:
    """
    Input: user text (string)
    Output: chatbot-style response based on symptoms or disease keywords
    """
    user_input_lower = user_input.lower()
    
    # Check if user mentions a disease keyword
    dataset = detect_disease(user_input_lower)
    if dataset:
        answer = find_answer(user_input_lower, dataset)
        return f"🌿 Based on your description, it looks like {dataset['disease']}.\n{answer}"
    
    # Fallback responses for common questions
    if "price" in user_input_lower or "market" in user_input_lower:
        return "💰 You can check current market prices in the Market Prices section."
    elif "treatment" in user_input_lower or "cure" in user_input_lower:
        return "🩺 You can upload an image for disease detection to get treatment guidance."
    elif "hello" in user_input_lower or "hi" in user_input_lower:
        return "👋 Hello! I am your Tomato Disease Expert Bot. Describe symptoms or ask about diseases."
    else:
        return "🤔 Sorry, I couldn't understand your question. Please describe symptoms like leaf spots, curling, or fruit lesions."

# --- Run chatbot ---
if __name__ == "__main__":
    chatbot()
